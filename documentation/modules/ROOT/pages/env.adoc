= Environment variables

== Using an environment variable within your container/application

Let's edit the Java application you created using Quarkus:

[.console-input]
[source,bash,subs="+macros,+attributes"]
----
code .
----

Now let the `HelloResource.java` class like this:

[.console-input]
[source,java]
----
package com.redhat.developers;

import java.util.Optional;
import javax.ws.rs.GET;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;
import javax.ws.rs.core.MediaType;
import org.eclipse.microprofile.config.inject.ConfigProperty;

@Path("/hello")
public class HelloResource {

    @ConfigProperty(name = "config")
    Optional<String> config;

    @GET
    @Produces(MediaType.TEXT_PLAIN)
    public String hello() {
        return config.orElse("no config");
    }
}
----

Notice that instead of just printing `hello`, it will print the content of a `ConfigProperty` or print `no config` if the config doesn't exist.

Now, back to terminal, package your project:


[.console-input]
[source,bash,subs="+macros,+attributes"]
----
mvn package -DskipTests=true
----

Rebuild our image to get the new version of the application:

[.console-input]
[source,bash,subs="+macros,+attributes"]
----
docker build -t my-image .
----

Remove your running container:

[.console-input]
[source,bash,subs="+macros,+attributes"]
----
docker rm -f my-container
----

And run the new one:

[.console-input]
[source,bash,subs="+macros,+attributes"]
----
docker run -d --name my-container -p 8080:8080 my-image
----

Now let's call the application:

[.console-input]
[source,bash,subs="+macros,+attributes"]
----
curl localhost:8080/hello
----
